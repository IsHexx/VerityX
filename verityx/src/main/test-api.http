POST http://localhost:8089/api/testplans
Content-Type: application/json

{
  "planName": "Test Plan 3",
  "description": "This is a description for Test Plan 1.",
  "projectId": 101,
  "status": "pending",
  "participants": "1,2,3",
  "startDate": "2024-11-20",
  "endDate": "2024-11-30",
  "planVersion": "v1.0"
}

###
###
GET http://localhost:8089/api/testplans
Accept: application/json

###
# @no-cookie-jar
GET http://localhost:8089/api/user/test
Accept: application/json

###
POST http://localhost:8089/api/user/login
Content-Type: application/json

{
  "username": "admin",
  "password": "123456"
}

### ApiTestReport接口测试

### 创建API测试报告
POST http://localhost:8089/api/apitestreports
Content-Type: application/json

{
  "apiName": "测试API",
  "url": "http://localhost:8089/",
  "method": "POST",
  "status": "成功",
  "responseTime": 120,
  "executionTime": "2023-05-15T10:30:00.000+08:00",
  "executor": "测试人员1",
  "headers": "{\"Content-Type\": \"application/json\"}",
  "params": "{\"username\": \"admin\", \"password\": \"123456\"}",
  "response": "{\"code\": 200, \"message\": \"登录成功\", \"data\": {\"token\": \"xxx\"}}"
}

### 获取API测试报告列表（分页）
GET http://localhost:8089/api/apitestreports/list?page=1&pageSize=10&keyword=登录&status=成功
Accept: application/json

### 获取API测试报告详情
GET http://localhost:8089/api/apitestreports/1
Accept: application/json

### 更新API测试报告
PUT http://localhost:8089/api/apitestreports/1
Content-Type: application/json

{
  "apiName": "用户登录API-更新",
  "url": "http://localhost:8089/api/user/login",
  "method": "POST",
  "status": "失败",
  "responseTime": 150,
  "executionTime": "2023-05-15T10:35:00.000+08:00",
  "executor": "测试人员2",
  "headers": "{\"Content-Type\": \"application/json\"}",
  "params": "{\"username\": \"admin\", \"password\": \"wrong_password\"}",
  "response": "{\"code\": 401, \"message\": \"密码错误\"}"
}

### 删除API测试报告
DELETE http://localhost:8089/api/apitestreports/1
Accept: application/json

### 批量删除API测试报告
POST http://localhost:8089/api/apitestreports/batch-delete
Content-Type: application/json

{
  "ids": [2, 3, 4]
}

### 导出API测试报告
GET http://localhost:8089/api/apitestreports/1/export
Accept: application/json

### API环境管理接口测试

### 1. 创建API环境配置
POST http://localhost:8089/api/environments
Content-Type: application/json

{
  "envName": "预发布环境",
  "baseUrl": "http://staging-api.example.com",
  "description": "用于预发布阶段的API测试环境",
  "isDefault": false,
  "globalHeaders": "{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer staging-token\"}",
  "globalParams": "{\"version\":\"v1\",\"debug\":\"true\"}"
}

### 2. 获取API环境配置列表（分页）
GET http://localhost:8089/api/environments/list?page=1&pageSize=10&keyword=开发
Accept: application/json

### 3. 获取所有环境配置（用于下拉选择）
GET http://localhost:8089/api/environments
Accept: application/json

### 4. 获取默认环境配置
GET http://localhost:8089/api/environments/default
Accept: application/json

### 5. 获取单个环境配置详情
GET http://localhost:8089/api/environments/1
Accept: application/json

### 6. 更新环境配置
PUT http://localhost:8089/api/environments/1
Content-Type: application/json

{
  "envName": "开发环境-更新",
  "baseUrl": "http://dev-api.example.com",
  "description": "更新后的开发环境描述",
  "isDefault": false,
  "globalHeaders": "{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer updated-dev-token\",\"X-API-Version\":\"2.0\"}",
  "globalParams": "{\"version\":\"v2\",\"debug\":\"true\"}"
}

### 7. 设置为默认环境
PUT http://localhost:8089/api/environments/1/default
Accept: application/json

### 8. 删除环境配置
DELETE http://localhost:8089/api/environments/2
Accept: application/json

### 9. 批量删除环境配置
POST http://localhost:8089/api/environments/batch-delete
Content-Type: application/json

{
  "ids": [3, 4, 5]
}
